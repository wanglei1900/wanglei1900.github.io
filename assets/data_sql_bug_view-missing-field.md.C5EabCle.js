import{_ as s,c as e,o as i,a7 as n}from"./chunks/framework.Dtft01Yp.js";const b=JSON.parse('{"title":"sql 视图查询 返回字段丢失","description":"","frontmatter":{},"headers":[],"relativePath":"data/sql/bug/view-missing-field.md","filePath":"data/sql/bug/view-missing-field.md","lastUpdated":1751016452000}'),l={name:"data/sql/bug/view-missing-field.md"};function t(r,a,p,d,h,o){return i(),e("div",null,a[0]||(a[0]=[n(`<h1 id="sql-视图查询-返回字段丢失" tabindex="-1">sql 视图查询 返回字段丢失 <a class="header-anchor" href="#sql-视图查询-返回字段丢失" aria-label="Permalink to &quot;sql 视图查询 返回字段丢失&quot;">​</a></h1><h2 id="问题" tabindex="-1">问题 <a class="header-anchor" href="#问题" aria-label="Permalink to &quot;问题&quot;">​</a></h2><p>问题：之前建的视图，视图里所使用的表新增了字段，使用通配符*查询视图，会出现丢失新增字段的问题。</p><h2 id="原因" tabindex="-1">原因 <a class="header-anchor" href="#原因" aria-label="Permalink to &quot;原因&quot;">​</a></h2><p>原因：使用通配符*查询时，视图查询时数据库会对列有缓存机制，表里新增的列是不会返回的</p><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  BD_VIEW_BOM</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="解决方法" tabindex="-1">解决方法 <a class="header-anchor" href="#解决方法" aria-label="Permalink to &quot;解决方法&quot;">​</a></h2><h3 id="解决方法1-刷新视图缓存" tabindex="-1">解决方法1：刷新视图缓存 <a class="header-anchor" href="#解决方法1-刷新视图缓存" aria-label="Permalink to &quot;解决方法1：刷新视图缓存&quot;">​</a></h3><p><code>EXEC sp_refreshsqlmodule &#39;视图名称&#39;</code></p><h3 id="解决方法2-明确返回字段" tabindex="-1">解决方法2：明确返回字段 <a class="header-anchor" href="#解决方法2-明确返回字段" aria-label="Permalink to &quot;解决方法2：明确返回字段&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  a,b</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  BD_VIEW_BOM</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>`,11)]))}const u=s(l,[["render",t]]);export{b as __pageData,u as default};
