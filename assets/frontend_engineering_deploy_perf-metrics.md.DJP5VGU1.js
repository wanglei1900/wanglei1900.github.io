import{_ as r,C as k,c as d,o as a,a7 as n,b as e,w as i,a as t,G as h,a8 as p}from"./chunks/framework.Dtft01Yp.js";const m=JSON.parse('{"title":"🌌 Lighthouse 性能监控学习笔记","description":"","frontmatter":{},"headers":[],"relativePath":"frontend/engineering/deploy/perf-metrics.md","filePath":"frontend/engineering/deploy/perf-metrics.md","lastUpdated":1752051878000}'),o={name:"frontend/engineering/deploy/perf-metrics.md"};function u(E,s,c,g,b,F){const l=k("Mermaid");return a(),d("div",null,[s[2]||(s[2]=n('<h1 id="🌌-lighthouse-性能监控学习笔记" tabindex="-1">🌌 Lighthouse 性能监控学习笔记 <a class="header-anchor" href="#🌌-lighthouse-性能监控学习笔记" aria-label="Permalink to &quot;🌌 Lighthouse 性能监控学习笔记&quot;">​</a></h1><nav class="table-of-contents"><ul><li><a href="#🔧-一、什么是-lighthouse">🔧 一、什么是 Lighthouse？</a></li><li><a href="#💡-二、核心功能">💡 二、核心功能</a></li><li><a href="#📌-三、使用方式">📌 三、使用方式</a></li><li><a href="#⚙️-四、关键性能指标">⚙️ 四、关键性能指标</a></li><li><a href="#✒️-五、性能优化建议">✒️ 五、性能优化建议</a></li><li><a href="#📨-六、报告解读">📨 六、报告解读</a></li><li><a href="#🛠️-七、最佳实践">🛠️ 七、最佳实践</a></li><li><a href="#🧲-八、进阶技巧">🧲 八、进阶技巧</a></li><li><a href="#🔗-九、参考资料">🔗 九、参考资料</a></li></ul></nav><h2 id="🔧-一、什么是-lighthouse" tabindex="-1">🔧 一、什么是 Lighthouse？ <a class="header-anchor" href="#🔧-一、什么是-lighthouse" aria-label="Permalink to &quot;🔧 一、什么是 Lighthouse？&quot;">​</a></h2><p>Lighthouse 是由 Google 开发的开源自动化工具，用于提升网页质量。它可以对网页进行性能、可访问性、PWA（渐进式 Web 应用）、SEO 等方面的审计。</p>',4)),(a(),e(p,null,{default:i(()=>[h(l,{id:"mermaid-12",class:"mermaid",graph:"graph%20LR%0A%20%20%20%20A%5BLighthouse%5D%20--%3E%20B%5B%E6%80%A7%E8%83%BD%5D%0A%20%20%20%20A%20--%3E%20C%5B%E5%8F%AF%E8%AE%BF%E9%97%AE%E6%80%A7%5D%0A%20%20%20%20A%20--%3E%20D%5B%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%5D%0A%20%20%20%20A%20--%3E%20E%5BSEO%5D%0A%20%20%20%20A%20--%3E%20F%5BPWA%5D%0A"})]),fallback:i(()=>s[0]||(s[0]=[t(" Loading... ")])),_:1})),s[3]||(s[3]=n(`<p><strong>核心价值</strong>：</p><ul><li>提供客观的性能评分（0-100分）</li><li>识别性能瓶颈</li><li>给出具体的优化建议</li><li>支持多种运行方式（浏览器、CLI、Node.js）</li></ul><br><h2 id="💡-二、核心功能" tabindex="-1">💡 二、核心功能 <a class="header-anchor" href="#💡-二、核心功能" aria-label="Permalink to &quot;💡 二、核心功能&quot;">​</a></h2><table tabindex="0"><thead><tr><th>类别</th><th>检测内容</th></tr></thead><tbody><tr><td>性能</td><td>加载速度、响应性、视觉稳定性</td></tr><tr><td>可访问性</td><td>屏幕阅读器兼容性、色彩对比度</td></tr><tr><td>SEO</td><td>元标签、移动友好性、内容质量</td></tr><tr><td>最佳实践</td><td>HTTPS、现代Web特性、安全策略</td></tr><tr><td>PWA</td><td>离线功能、安装性、Service Worker</td></tr></tbody></table><br><h2 id="📌-三、使用方式" tabindex="-1">📌 三、使用方式 <a class="header-anchor" href="#📌-三、使用方式" aria-label="Permalink to &quot;📌 三、使用方式&quot;">​</a></h2><h4 id="_1-chrome-devtools" tabindex="-1">1. Chrome DevTools <a class="header-anchor" href="#_1-chrome-devtools" aria-label="Permalink to &quot;1. Chrome DevTools&quot;">​</a></h4><ul><li>打开 Chrome 浏览器</li><li>右键点击页面 → &quot;检查&quot;</li><li>转到 &quot;Lighthouse&quot; 标签页</li><li>选择审计类别 → 点击 &quot;生成报告&quot;</li></ul><h4 id="_2-命令行工具" tabindex="-1">2. 命令行工具 <a class="header-anchor" href="#_2-命令行工具" aria-label="Permalink to &quot;2. 命令行工具&quot;">​</a></h4><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lighthouse</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 生成报告</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lighthouse</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://example.com</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> html</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-path</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./report.html</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 常用选项</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--view</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 自动打开报告</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--preset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> desktop</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 桌面设备测试</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--throttling.cpuSlowdownMultiplier</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">=4</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # CPU降速4倍模拟低端设备</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_3-node-js-模块" tabindex="-1">3. Node.js 模块 <a class="header-anchor" href="#_3-node-js-模块" aria-label="Permalink to &quot;3. Node.js 模块&quot;">​</a></h4><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> lighthouse</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;lighthouse&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> chromeLauncher</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;chrome-launcher&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> chrome</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> chromeLauncher.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">launch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    logLevel: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;info&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    output: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;html&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    port: chrome.port</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> runnerResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lighthouse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://example.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, options);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 保存报告</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;report.html&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, runnerResult.report);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> chrome.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><br><h2 id="⚙️-四、关键性能指标" tabindex="-1">⚙️ 四、关键性能指标 <a class="header-anchor" href="#⚙️-四、关键性能指标" aria-label="Permalink to &quot;⚙️ 四、关键性能指标&quot;">​</a></h2><h4 id="_1-首次内容绘制-fcp" tabindex="-1">1. 首次内容绘制 (FCP) <a class="header-anchor" href="#_1-首次内容绘制-fcp" aria-label="Permalink to &quot;1. 首次内容绘制 (FCP)&quot;">​</a></h4><ul><li>测量：页面开始加载到任意内容首次渲染的时间</li><li>目标：&lt; 1.8 秒（良好）</li><li>优化：减少阻塞渲染的资源</li></ul><h4 id="_2-最大内容绘制-lcp" tabindex="-1">2. 最大内容绘制 (LCP) <a class="header-anchor" href="#_2-最大内容绘制-lcp" aria-label="Permalink to &quot;2. 最大内容绘制 (LCP)&quot;">​</a></h4><ul><li>测量：视口内最大内容元素渲染完成的时间</li><li>目标：&lt; 2.5 秒</li><li>优化：优化图片/视频、预加载关键资源</li></ul><h4 id="_3-累计布局偏移-cls" tabindex="-1">3. 累计布局偏移 (CLS) <a class="header-anchor" href="#_3-累计布局偏移-cls" aria-label="Permalink to &quot;3. 累计布局偏移 (CLS)&quot;">​</a></h4><ul><li>测量：页面生命周期中意外布局偏移的累计分数</li><li>目标：&lt; 0.1</li><li>优化：为媒体指定尺寸、避免动态插入内容</li></ul><h4 id="_4-首次输入延迟-fid" tabindex="-1">4. 首次输入延迟 (FID) <a class="header-anchor" href="#_4-首次输入延迟-fid" aria-label="Permalink to &quot;4. 首次输入延迟 (FID)&quot;">​</a></h4><ul><li>测量：用户首次交互到浏览器响应的延迟</li><li>目标：&lt; 100 毫秒</li><li>优化：分解长任务、优化JavaScript</li></ul><h4 id="_5-总阻塞时间-tbt" tabindex="-1">5. 总阻塞时间 (TBT) <a class="header-anchor" href="#_5-总阻塞时间-tbt" aria-label="Permalink to &quot;5. 总阻塞时间 (TBT)&quot;">​</a></h4><ul><li>测量：FCP到TTI之间主线程被阻塞的总时间</li><li>目标：&lt; 200 毫秒</li><li>优化：代码分割、懒加载</li></ul><br>`,26)),(a(),e(p,null,{default:i(()=>[h(l,{id:"mermaid-238",class:"mermaid",graph:"pie%20title%20%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87%E6%9D%83%E9%87%8D%0A%20%20%20%20%22LCP%22%3A%2025%0A%20%20%20%20%22FID%22%3A%2025%0A%20%20%20%20%22CLS%22%3A%2025%0A%20%20%20%20%22FCP%22%3A%205%0A%20%20%20%20%22TBT%22%3A%2010%0A"})]),fallback:i(()=>s[1]||(s[1]=[t(" Loading... ")])),_:1})),s[4]||(s[4]=n(`<br><h2 id="✒️-五、性能优化建议" tabindex="-1">✒️ 五、性能优化建议 <a class="header-anchor" href="#✒️-五、性能优化建议" aria-label="Permalink to &quot;✒️ 五、性能优化建议&quot;">​</a></h2><h4 id="_1-资源优化" tabindex="-1">1. 资源优化 <a class="header-anchor" href="#_1-资源优化" aria-label="Permalink to &quot;1. 资源优化&quot;">​</a></h4><ul><li>图片压缩：使用 WebP 格式，设置合适尺寸</li><li>代码压缩：Minify CSS/JS，启用 Gzip/Brotli</li><li>资源预加载：<link rel="preload"> 关键资源</li><li>懒加载：loading=&quot;lazy&quot; 非首屏图片/iframe</li></ul><h4 id="_2-渲染优化" tabindex="-1">2. 渲染优化 <a class="header-anchor" href="#_2-渲染优化" aria-label="Permalink to &quot;2. 渲染优化&quot;">​</a></h4><ul><li>关键CSS内联：减少首屏渲染阻塞</li><li>字体优化：font-display: swap 避免文字闪烁</li><li>减少DOM深度：简化HTML结构</li></ul><h4 id="_3-javascript优化" tabindex="-1">3. JavaScript优化 <a class="header-anchor" href="#_3-javascript优化" aria-label="Permalink to &quot;3. JavaScript优化&quot;">​</a></h4><ul><li>代码分割：按需加载模块</li><li>移除未使用代码：Tree shaking</li><li>延迟非关键JS：async/defer 属性</li></ul><h4 id="_4-缓存策略" tabindex="-1">4. 缓存策略 <a class="header-anchor" href="#_4-缓存策略" aria-label="Permalink to &quot;4. 缓存策略&quot;">​</a></h4><div class="language-http vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">http</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 强缓存配置示例</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Cache-Control</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> public, max-age=31536000</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><br><h2 id="📨-六、报告解读" tabindex="-1">📨 六、报告解读 <a class="header-anchor" href="#📨-六、报告解读" aria-label="Permalink to &quot;📨 六、报告解读&quot;">​</a></h2><h4 id="lighthouse-报告包含五个主要部分" tabindex="-1">Lighthouse 报告包含五个主要部分： <a class="header-anchor" href="#lighthouse-报告包含五个主要部分" aria-label="Permalink to &quot;Lighthouse 报告包含五个主要部分：&quot;">​</a></h4><ol><li>性能评分：0-100分（绿色≥90，橙色50-89，红色&lt;50）</li><li>指标展示：核心Web指标可视化</li><li>优化机会：具体改进建议及预估提升</li><li>诊断信息：详细技术指标分析</li><li>通过审计：已满足的最佳实践</li></ol><h4 id="重点关注" tabindex="-1">重点关注： <a class="header-anchor" href="#重点关注" aria-label="Permalink to &quot;重点关注：&quot;">​</a></h4><ul><li>标有&quot;Opportunity&quot;的部分（高ROI优化）</li><li>红色❌标记的失败审计项</li><li>加载时间超过2秒的资源</li></ul><br><h2 id="🛠️-七、最佳实践" tabindex="-1">🛠️ 七、最佳实践 <a class="header-anchor" href="#🛠️-七、最佳实践" aria-label="Permalink to &quot;🛠️ 七、最佳实践&quot;">​</a></h2><h4 id="_1-测试策略" tabindex="-1">1. 测试策略 <a class="header-anchor" href="#_1-测试策略" aria-label="Permalink to &quot;1. 测试策略&quot;">​</a></h4><ul><li>定期监控：集成到CI/CD流程</li><li>多场景测试： <ul><li>移动/桌面设备</li><li>低速网络（Fast 3G）</li><li>低端CPU（4x降速）</li></ul></li><li>真实用户监控：结合CrUX数据</li></ul><h4 id="_2-配置示例-lighthouserc" tabindex="-1">2. 配置示例（.lighthouserc） <a class="header-anchor" href="#_2-配置示例-lighthouserc" aria-label="Permalink to &quot;2. 配置示例（.lighthouserc）&quot;">​</a></h4><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;ci&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;collect&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;numberOfRuns&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;settings&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;preset&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;desktop&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;assert&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;preset&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;lighthouse:recommended&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;assertions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;first-contentful-paint&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;error&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;maxNumericValue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;cumulative-layout-shift&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;error&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;maxNumericValue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><br><h2 id="🧲-八、进阶技巧" tabindex="-1">🧲 八、进阶技巧 <a class="header-anchor" href="#🧲-八、进阶技巧" aria-label="Permalink to &quot;🧲 八、进阶技巧&quot;">​</a></h2><h4 id="_1-自定义审计" tabindex="-1">1. 自定义审计 <a class="header-anchor" href="#_1-自定义审计" aria-label="Permalink to &quot;1. 自定义审计&quot;">​</a></h4><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  audits: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;lighthouse-plugin-example/audits/custom-audit.js&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  category: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    title: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Custom Audits&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    auditRefs: [{id: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;custom-audit&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, weight: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_2-性能追踪" tabindex="-1">2. 性能追踪 <a class="header-anchor" href="#_2-性能追踪" aria-label="Permalink to &quot;2. 性能追踪&quot;">​</a></h4><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lighthouse</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --chrome-flags=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;--enable-features=SlowWebScript&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --throttling-method=devtools</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_3-对比分析" tabindex="-1">3. 对比分析 <a class="header-anchor" href="#_3-对比分析" aria-label="Permalink to &quot;3. 对比分析&quot;">​</a></h4><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lighthouse-batch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> urls.txt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./reports/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_4-api集成" tabindex="-1">4. API集成 <a class="header-anchor" href="#_4-api集成" aria-label="Permalink to &quot;4. API集成&quot;">​</a></h4><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">computeMedianRun</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;lighthouse/lighthouse-core/lib/median-run.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><br><h2 id="🔗-九、参考资料" tabindex="-1">🔗 九、参考资料 <a class="header-anchor" href="#🔗-九、参考资料" aria-label="Permalink to &quot;🔗 九、参考资料&quot;">​</a></h2><p><a href="https://developers.google.com/web/tools/lighthouse" target="_blank" rel="noreferrer">📚 官方文档</a></p><p><a href="https://web.dev/vitals/" target="_blank" rel="noreferrer">📚 Web性能指标</a></p><p><a href="https://web.dev/fast/" target="_blank" rel="noreferrer">📚 优化指南</a></p><p><a href="https://googlechrome.github.io/lighthouse/scorecalc/" target="_blank" rel="noreferrer">📚 Lighthouse评分计算</a></p><p><a href="https://github.com/GoogleChrome/lighthouse" target="_blank" rel="noreferrer">📚 开源仓库</a></p><blockquote><p>提示：定期更新Lighthouse版本以获取最新审计规则（每6周随Chrome更新）</p></blockquote>`,40))])}const C=r(o,[["render",u]]);export{m as __pageData,C as default};
