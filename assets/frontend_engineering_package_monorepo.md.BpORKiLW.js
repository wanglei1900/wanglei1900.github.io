import{_ as r,C as d,c as k,o as i,a7 as n,b as l,w as a,a as t,G as p,a8 as h}from"./chunks/framework.Dtft01Yp.js";const y=JSON.parse('{"title":"ğŸŒŒ Monorepo å®è·µå®Œæ•´æŒ‡å—","description":"","frontmatter":{},"headers":[],"relativePath":"frontend/engineering/package/monorepo.md","filePath":"frontend/engineering/package/monorepo.md","lastUpdated":1752051878000}'),o={name:"frontend/engineering/package/monorepo.md"};function c(b,s,u,E,g,F){const e=d("Mermaid");return i(),k("div",null,[s[4]||(s[4]=n(`<h1 id="ğŸŒŒ-monorepo-å®è·µå®Œæ•´æŒ‡å—" tabindex="-1">ğŸŒŒ Monorepo å®è·µå®Œæ•´æŒ‡å— <a class="header-anchor" href="#ğŸŒŒ-monorepo-å®è·µå®Œæ•´æŒ‡å—" aria-label="Permalink to &quot;ğŸŒŒ Monorepo å®è·µå®Œæ•´æŒ‡å—&quot;">â€‹</a></h1><nav class="table-of-contents"><ul><li><a href="#ğŸ’¡-ä¸€ã€monorepo-æ ¸å¿ƒæ¦‚å¿µ">ğŸ’¡ ä¸€ã€Monorepo æ ¸å¿ƒæ¦‚å¿µ</a></li><li><a href="#â›“ï¸-äºŒã€å·¥å…·é“¾å¯¹æ¯”ä¸é€‰å‹">â›“ï¸ äºŒã€å·¥å…·é“¾å¯¹æ¯”ä¸é€‰å‹</a></li><li><a href="#ğŸ“‘-ä¸‰ã€é¡¹ç›®ç»“æ„ä¸å·¥ä½œæµè®¾è®¡">ğŸ“‘ ä¸‰ã€é¡¹ç›®ç»“æ„ä¸å·¥ä½œæµè®¾è®¡</a></li><li><a href="#ğŸ“‹-å››ã€æƒé™ç®¡ç†ä¸åä½œè§„èŒƒ">ğŸ“‹ å››ã€æƒé™ç®¡ç†ä¸åä½œè§„èŒƒ</a></li><li><a href="#ğŸ¤–-äº”ã€ci-cd-ä¸è‡ªåŠ¨åŒ–">ğŸ¤– äº”ã€CI/CD ä¸è‡ªåŠ¨åŒ–</a></li><li><a href="#ğŸ§²-å…­ã€è¿ç§»ç­–ç•¥ä¸æœ€ä½³å®è·µ">ğŸ§² å…­ã€è¿ç§»ç­–ç•¥ä¸æœ€ä½³å®è·µ</a></li><li><a href="#ğŸ’°-ä¸ƒã€æ”¶ç›Šä¸æŒ‘æˆ˜åˆ†æ">ğŸ’° ä¸ƒã€æ”¶ç›Šä¸æŒ‘æˆ˜åˆ†æ</a></li><li><a href="#ğŸ”—-å…«ã€å‚è€ƒèµ„æ–™">ğŸ”— å…«ã€å‚è€ƒèµ„æ–™</a></li></ul></nav><h2 id="ğŸ’¡-ä¸€ã€monorepo-æ ¸å¿ƒæ¦‚å¿µ" tabindex="-1">ğŸ’¡ ä¸€ã€Monorepo æ ¸å¿ƒæ¦‚å¿µ <a class="header-anchor" href="#ğŸ’¡-ä¸€ã€monorepo-æ ¸å¿ƒæ¦‚å¿µ" aria-label="Permalink to &quot;ğŸ’¡ ä¸€ã€Monorepo æ ¸å¿ƒæ¦‚å¿µ&quot;">â€‹</a></h2><h4 id="_1-ä»€ä¹ˆæ˜¯-monorepo" tabindex="-1">1. ä»€ä¹ˆæ˜¯ Monorepoï¼Ÿ <a class="header-anchor" href="#_1-ä»€ä¹ˆæ˜¯-monorepo" aria-label="Permalink to &quot;1. ä»€ä¹ˆæ˜¯ Monorepoï¼Ÿ&quot;">â€‹</a></h4><ul><li>å®šä¹‰ï¼šå°†å¤šä¸ªç›¸å…³é¡¹ç›®/æ¨¡å—æ•´åˆåˆ°å•ä¸€ä»£ç ä»“åº“ä¸­çš„å·¥ç¨‹ç­–ç•¥</li><li>æ ¸å¿ƒç‰¹å¾ï¼š <ul><li>ç»Ÿä¸€ç‰ˆæœ¬æ§åˆ¶ä¸ä¾èµ–ç®¡ç†</li><li>å…±äº«ä»£ç å’Œå·¥å…·é“¾</li><li>åŸå­æäº¤ï¼ˆè·¨é¡¹ç›®å˜æ›´å•æ¬¡æäº¤ï¼‰</li></ul></li><li>å…¸å‹ç»“æ„ï¼š</li></ul><div class="language-md vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">monorepo/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">â”œâ”€â”€ apps/          # ä¸šåŠ¡åº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">â”œâ”€â”€ packages/      # å…±äº«åº“ï¼ˆç»„ä»¶/å·¥å…·ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">â”œâ”€â”€ scripts/       # å…¨å±€è„šæœ¬</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">â””â”€â”€ pnpm-workspace.yaml # å·¥ä½œåŒºå®šä¹‰</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_2-é€‚ç”¨åœºæ™¯åˆ†æ" tabindex="-1">2. é€‚ç”¨åœºæ™¯åˆ†æ <a class="header-anchor" href="#_2-é€‚ç”¨åœºæ™¯åˆ†æ" aria-label="Permalink to &quot;2. é€‚ç”¨åœºæ™¯åˆ†æ&quot;">â€‹</a></h4>`,7)),(i(),l(h,null,{default:a(()=>[p(e,{id:"mermaid-50",class:"mermaid",graph:"graph%20LR%0A%20%20%20%20A%5B%E9%AB%98%E5%8D%8F%E4%BD%9C%E9%9C%80%E6%B1%82%5D%20--%3E%20Monorepo%0A%20%20%20%20B%5B%E6%A8%A1%E5%9D%97%E5%BC%BA%E8%80%A6%E5%90%88%5D%20--%3E%20Monorepo%0A%20%20%20%20C%5B%E9%A2%91%E7%B9%81%E8%B7%A8%E9%A1%B9%E7%9B%AE%E5%8F%98%E6%9B%B4%5D%20--%3E%20Monorepo%0A%20%20%20%20D%5B%E4%BD%8E%E8%80%A6%E5%90%88%E7%8B%AC%E7%AB%8B%E9%A1%B9%E7%9B%AE%5D%20--%3E%20MultiRepo%0A"})]),fallback:a(()=>s[0]||(s[0]=[t(" Loading... ")])),_:1})),s[5]||(s[5]=n(`<ul><li>æ¨èä½¿ç”¨åœºæ™¯ï¼š <ul><li>ä¸­åå°ç³»ç»Ÿé›†åˆï¼ˆå¦‚ç”µå•†å¹³å°+å•†å®¶åå°ï¼‰</li><li>è·¨ç«¯åº”ç”¨ï¼ˆWeb/iOS/Androidå…±äº«æ ¸å¿ƒé€»è¾‘ï¼‰</li><li>å¼€æºé¡¹ç›®ç”Ÿæ€ï¼ˆå¦‚Babelã€Vueå…¨å®¶æ¡¶</li></ul></li><li>é¿å…ä½¿ç”¨åœºæ™¯ï¼š <ul><li>ç‹¬ç«‹å¾®æœåŠ¡æ¶æ„</li><li>å®‰å…¨éš”ç¦»è¦æ±‚é«˜çš„é¡¹ç›®</li><li>è¶…å¤§è§„æ¨¡ä»£ç åº“ï¼ˆ&gt;500ä¸‡è¡Œï¼‰</li></ul></li></ul><h4 id="_2-æ ¸å¿ƒä¼˜åŠ¿ä¸æŒ‘æˆ˜" tabindex="-1">2. æ ¸å¿ƒä¼˜åŠ¿ä¸æŒ‘æˆ˜ <a class="header-anchor" href="#_2-æ ¸å¿ƒä¼˜åŠ¿ä¸æŒ‘æˆ˜" aria-label="Permalink to &quot;2. æ ¸å¿ƒä¼˜åŠ¿ä¸æŒ‘æˆ˜&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th><strong>ä¼˜åŠ¿</strong></th><th><strong>æŒ‘æˆ˜</strong></th></tr></thead><tbody><tr><td>âœ… ä»£ç å¤ç”¨ç‡æå‡40%ï¼ˆå‡å°‘é‡å¤å¼€å‘ï¼‰</td><td>âŒ ä»“åº“ä½“ç§¯è†¨èƒ€ï¼ˆGitæ“ä½œå»¶è¿Ÿï¼‰</td></tr><tr><td>âœ… ä¾èµ–å®‰è£…é€Ÿåº¦æå‡70%ï¼ˆä¾èµ–æå‡è‡³æ ¹ç›®å½•ï¼‰</td><td>âŒ å¹½çµä¾èµ–é—®é¢˜ï¼ˆæœªå£°æ˜å´å¯è®¿é—®çš„ä¾èµ–ï¼‰</td></tr><tr><td>âœ… æ–°é¡¹ç›®æ¥å…¥æˆæœ¬é™ä½60%ï¼ˆæ ‡å‡†åŒ–åŸºå»ºï¼‰</td><td>âŒ æƒé™ç®¡ç†å¤æ‚åº¦é«˜</td></tr><tr><td>âœ… è·¨æ¨¡å—å˜æ›´è”åŠ¨æµ‹è¯•ï¼ˆé™ä½çº¿ä¸Šæ•…éšœ35%ï¼‰1</td><td>âŒ æ„å»ºç³»ç»Ÿå®šåˆ¶æˆæœ¬é«˜</td></tr></tbody></table><br><h2 id="â›“ï¸-äºŒã€å·¥å…·é“¾å¯¹æ¯”ä¸é€‰å‹" tabindex="-1">â›“ï¸ äºŒã€å·¥å…·é“¾å¯¹æ¯”ä¸é€‰å‹ <a class="header-anchor" href="#â›“ï¸-äºŒã€å·¥å…·é“¾å¯¹æ¯”ä¸é€‰å‹" aria-label="Permalink to &quot;â›“ï¸ äºŒã€å·¥å…·é“¾å¯¹æ¯”ä¸é€‰å‹&quot;">â€‹</a></h2><h4 id="_1-ä¸»æµå·¥å…·æ¨ªå‘å¯¹æ¯”" tabindex="-1">1. ä¸»æµå·¥å…·æ¨ªå‘å¯¹æ¯” <a class="header-anchor" href="#_1-ä¸»æµå·¥å…·æ¨ªå‘å¯¹æ¯”" aria-label="Permalink to &quot;1. ä¸»æµå·¥å…·æ¨ªå‘å¯¹æ¯”&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th><strong>å·¥å…·</strong></th><th><strong>æ ¸å¿ƒä¼˜åŠ¿</strong></th><th><strong>é€‚ç”¨åœºæ™¯</strong></th><th><strong>æ€§èƒ½ç‰¹ç‚¹</strong></th></tr></thead><tbody><tr><td><strong>PNPM Workspace</strong></td><td>ä¸¥æ ¼ä¾èµ–éš”ç¦»ï¼Œè§£å†³â€œå¹½çµä¾èµ–â€</td><td>ä¸­å°å‹é¡¹ç›®ï¼Œä¾èµ–ç®¡ç†ä¼˜å…ˆ</td><td>ç£ç›˜ç©ºé—´èŠ‚çœ30%+</td></tr><tr><td><strong>Turborepo</strong></td><td>å¢é‡æ„å»º+è¿œç¨‹ç¼“å­˜</td><td>å¤§å‹é¡¹ç›®ï¼Œæ„å»ºé€Ÿåº¦æ•æ„Ÿåœºæ™¯</td><td>åˆ†å¸ƒå¼ç¼“å­˜ï¼Œæ„å»ºæé€Ÿ5x</td></tr><tr><td><strong>Nx</strong></td><td>å¯è§†åŒ–ä¾èµ–å›¾ï¼Œå…¨æµç¨‹å·¥å…·é“¾</td><td>ä¼ä¸šçº§å¤æ‚å·¥ç¨‹</td><td>æ™ºèƒ½ä»»åŠ¡è°ƒåº¦</td></tr><tr><td><strong>Lerna</strong></td><td>è¯­ä¹‰åŒ–ç‰ˆæœ¬å‘å¸ƒï¼Œå¤šåŒ…ç®¡ç†</td><td>å¼€æºåº“å‘å¸ƒåœºæ™¯</td><td>éœ€é…åˆå…¶ä»–å·¥å…·ä¼˜åŒ–æ„å»º</td></tr></tbody></table><h4 id="_2-æ¨èæŠ€æœ¯æ ˆç»„åˆ" tabindex="-1">2. æ¨èæŠ€æœ¯æ ˆç»„åˆ <a class="header-anchor" href="#_2-æ¨èæŠ€æœ¯æ ˆç»„åˆ" aria-label="Permalink to &quot;2. æ¨èæŠ€æœ¯æ ˆç»„åˆ&quot;">â€‹</a></h4><ol><li>åŸºç¡€æ–¹æ¡ˆï¼šPNPM + Turborepo</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> turbo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Dw</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é…ç½® turbo.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;pipeline&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    &quot;build&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;outputs&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dist/**&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;dependsOn&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^build&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol start="2"><li>é«˜çº§æ–¹æ¡ˆï¼šNx Cloud + Lernaï¼ˆç™¾äººä»¥ä¸Šå›¢é˜Ÿï¼‰ <ul><li>åˆ†å¸ƒå¼ä»»åŠ¡æ‰§è¡Œ</li><li>äº‘ç¼“å­˜å…±äº«</li><li>å˜æ›´å½±å“åˆ†æ3</li></ul></li></ol><br><h2 id="ğŸ“‘-ä¸‰ã€é¡¹ç›®ç»“æ„ä¸å·¥ä½œæµè®¾è®¡" tabindex="-1">ğŸ“‘ ä¸‰ã€é¡¹ç›®ç»“æ„ä¸å·¥ä½œæµè®¾è®¡ <a class="header-anchor" href="#ğŸ“‘-ä¸‰ã€é¡¹ç›®ç»“æ„ä¸å·¥ä½œæµè®¾è®¡" aria-label="Permalink to &quot;ğŸ“‘ ä¸‰ã€é¡¹ç›®ç»“æ„ä¸å·¥ä½œæµè®¾è®¡&quot;">â€‹</a></h2><h4 id="_1-æ ‡å‡†åŒ–ç›®å½•ç»“æ„" tabindex="-1">1. æ ‡å‡†åŒ–ç›®å½•ç»“æ„ <a class="header-anchor" href="#_1-æ ‡å‡†åŒ–ç›®å½•ç»“æ„" aria-label="Permalink to &quot;1. æ ‡å‡†åŒ–ç›®å½•ç»“æ„&quot;">â€‹</a></h4><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">monorepo/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">â”œâ”€â”€</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apps</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">â”‚</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   â”œâ”€â”€</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> admin</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # åå°åº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">â”‚</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   â””â”€â”€</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> client</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # å®¢æˆ·ç«¯åº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">â”œâ”€â”€</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">â”‚</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   â”œâ”€â”€</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> components</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # é€šç”¨ç»„ä»¶åº“</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">â”‚</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   â”œâ”€â”€</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> utils</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # å·¥å…·å‡½æ•°é›†</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">â”‚</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   â””â”€â”€</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hooks</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # è‡ªå®šä¹‰Hooks</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">â”œâ”€â”€</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> business</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         # ä¸šåŠ¡åŸŸæ¨¡å—</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">â”‚</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   â””â”€â”€</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> payment</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # æ”¯ä»˜åŸŸå…±äº«ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">â””â”€â”€</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> infra</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    â”œâ”€â”€</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ci</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">           # CIè„šæœ¬</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    â””â”€â”€</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">       # å®¹å™¨é…ç½®</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="_2-ä¾èµ–ç®¡ç†å®è·µ" tabindex="-1">2. ä¾èµ–ç®¡ç†å®è·µ <a class="header-anchor" href="#_2-ä¾èµ–ç®¡ç†å®è·µ" aria-label="Permalink to &quot;2. ä¾èµ–ç®¡ç†å®è·µ&quot;">â€‹</a></h4><ul><li>æå‡å…¬å…±ä¾èµ–ï¼ˆæ ¹ç›®å½•package.jsonï¼‰ï¼š</li></ul><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^18.2.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;typescript&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;~5.0.4&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>æ¨¡å—é—´å¼•ç”¨ï¼ˆä½¿ç”¨workspaceåè®®ï¼‰ï¼š</li></ul><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// apps/admin/package.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;@acme/components&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;workspace:*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_3-è„šæœ¬ç¼–æ’ç­–ç•¥" tabindex="-1">3. è„šæœ¬ç¼–æ’ç­–ç•¥ <a class="header-anchor" href="#_3-è„šæœ¬ç¼–æ’ç­–ç•¥" aria-label="Permalink to &quot;3. è„šæœ¬ç¼–æ’ç­–ç•¥&quot;">â€‹</a></h4>`,21)),(i(),l(h,null,{default:a(()=>[p(e,{id:"mermaid-294",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20A%5B%E4%BB%A3%E7%A0%81%E5%8F%98%E6%9B%B4%5D%20--%3E%20B%7BTurborepo%20%E5%88%86%E6%9E%90%7D%0A%20%20%20%20B%20--%3E%7C%E5%BD%B1%E5%93%8D%E7%BB%84%E4%BB%B6%E5%BA%93%7C%20C%5B%E6%9E%84%E5%BB%BA%20packages%2F*%5D%0A%20%20%20%20B%20--%3E%7C%E5%BD%B1%E5%93%8Dadmin%E5%BA%94%E7%94%A8%7C%20D%5B%E6%9E%84%E5%BB%BA%20apps%2Fadmin%5D%0A%20%20%20%20C%20--%3E%20E%5B%E8%A7%A6%E5%8F%91%E4%BE%9D%E8%B5%96%E9%87%8D%E7%BC%96%5D%0A%20%20%20%20D%20--%3E%20F%5B%E9%9B%86%E6%88%90%E6%B5%8B%E8%AF%95%5D%0A"})]),fallback:a(()=>s[1]||(s[1]=[t(" Loading... ")])),_:1})),s[6]||(s[6]=n(`<br><h2 id="ğŸ“‹-å››ã€æƒé™ç®¡ç†ä¸åä½œè§„èŒƒ" tabindex="-1">ğŸ“‹ å››ã€æƒé™ç®¡ç†ä¸åä½œè§„èŒƒ <a class="header-anchor" href="#ğŸ“‹-å››ã€æƒé™ç®¡ç†ä¸åä½œè§„èŒƒ" aria-label="Permalink to &quot;ğŸ“‹ å››ã€æƒé™ç®¡ç†ä¸åä½œè§„èŒƒ&quot;">â€‹</a></h2><h4 id="_1-ç²¾ç»†åŒ–æƒé™æ§åˆ¶" tabindex="-1">1. ç²¾ç»†åŒ–æƒé™æ§åˆ¶ <a class="header-anchor" href="#_1-ç²¾ç»†åŒ–æƒé™æ§åˆ¶" aria-label="Permalink to &quot;1. ç²¾ç»†åŒ–æƒé™æ§åˆ¶&quot;">â€‹</a></h4><ul><li>GitLab Codeowners é…ç½®ç¤ºä¾‹ï¼š</li></ul><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># .gitlab/CODEOWNERS</span></span>
<span class="line"><span>/packages/components/  @frontend-owners</span></span>
<span class="line"><span>/apps/admin/           @admin-team</span></span>
<span class="line"><span>/.github/              @platform-architects</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>åˆ†æ”¯ä¿æŠ¤è§„åˆ™ï¼š</li></ul><table tabindex="0"><thead><tr><th>åˆ†æ”¯ç±»å‹</th><th>æ¨é€æƒé™</th><th>åˆå¹¶è¦æ±‚</th></tr></thead><tbody><tr><td>main</td><td>ç¦æ­¢ç›´æ¥æ¨é€</td><td>2äººCodeReview + CIé€šè¿‡</td></tr><tr><td>release/*</td><td>TLåŠä»¥ä¸Š</td><td>å›å½’æµ‹è¯•æŠ¥å‘Š</td></tr><tr><td>feature/*</td><td>å¼€å‘è€…</td><td>ESLint/å•æµ‹é€šè¿‡</td></tr></tbody></table><h4 id="_2-å˜æ›´æµç¨‹ç®¡æ§" tabindex="-1">2. å˜æ›´æµç¨‹ç®¡æ§ <a class="header-anchor" href="#_2-å˜æ›´æµç¨‹ç®¡æ§" aria-label="Permalink to &quot;2. å˜æ›´æµç¨‹ç®¡æ§&quot;">â€‹</a></h4><ol><li>ç‰¹æ€§å¼€å‘ï¼šgit checkout -b feature/search-optim</li><li>æäº¤å‰æ£€æŸ¥ï¼ˆHuskyé’©å­ï¼‰ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .husky/pre-commit</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lint-staged</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li>MRæµç¨‹ï¼š <ul><li>å…³è”JIRAéœ€æ±‚ID</li><li>æŒ‡å®šCodeOwnerè¯„å®¡</li><li>CIæµæ°´çº¿éªŒè¯</li></ul></li></ol><br><h2 id="ğŸ¤–-äº”ã€ci-cd-ä¸è‡ªåŠ¨åŒ–" tabindex="-1">ğŸ¤– äº”ã€CI/CD ä¸è‡ªåŠ¨åŒ– <a class="header-anchor" href="#ğŸ¤–-äº”ã€ci-cd-ä¸è‡ªåŠ¨åŒ–" aria-label="Permalink to &quot;ğŸ¤– äº”ã€CI/CD ä¸è‡ªåŠ¨åŒ–&quot;">â€‹</a></h2><h4 id="_1-æ™ºèƒ½æ„å»ºä¼˜åŒ–" tabindex="-1">1. æ™ºèƒ½æ„å»ºä¼˜åŒ– <a class="header-anchor" href="#_1-æ™ºèƒ½æ„å»ºä¼˜åŒ–" aria-label="Permalink to &quot;1. æ™ºèƒ½æ„å»ºä¼˜åŒ–&quot;">â€‹</a></h4><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .gitlab-ci.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">build</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm turbo run build --filter=...[origin/main]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\${CI_COMMIT_REF_SLUG}</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    paths</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.turbo</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">node_modules</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_2-å¢é‡æµ‹è¯•ç­–ç•¥" tabindex="-1">2. å¢é‡æµ‹è¯•ç­–ç•¥ <a class="header-anchor" href="#_2-å¢é‡æµ‹è¯•ç­–ç•¥" aria-label="Permalink to &quot;2. å¢é‡æµ‹è¯•ç­–ç•¥&quot;">â€‹</a></h4><ul><li>Jestå˜æ›´åˆ†æï¼š</li></ul><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ä»…æµ‹è¯•å—å½±å“æ¨¡å—</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> turbo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --filter=...[</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$HEAD</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">^]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>è¦†ç›–ç‡å¡ç‚¹ï¼š</li></ul><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># CIé…ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">- </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Coverage Check</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">coverage &lt; 80%</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">exit 1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_3-å‘å¸ƒè‡ªåŠ¨åŒ–" tabindex="-1">3. å‘å¸ƒè‡ªåŠ¨åŒ– <a class="header-anchor" href="#_3-å‘å¸ƒè‡ªåŠ¨åŒ–" aria-label="Permalink to &quot;3. å‘å¸ƒè‡ªåŠ¨åŒ–&quot;">â€‹</a></h4>`,21)),(i(),l(h,null,{default:a(()=>[p(e,{id:"mermaid-437",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20Changesets-%3E%3E%2BCI%3A%20%E6%A3%80%E6%B5%8B%E7%89%88%E6%9C%AC%E5%8F%98%E6%9B%B4%0A%20%20%20%20CI-%3E%3E%2BNexus%3A%20%E5%8F%91%E5%B8%83%E6%B5%8B%E8%AF%95%E5%8C%85%0A%20%20%20%20Nexus--%3E%3E-Staging%3A%20%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2%0A%20%20%20%20Staging--%3E%3E-QA%3A%20%E9%80%9A%E7%9F%A5%E9%AA%8C%E8%AF%81%0A%20%20%20%20QA-%3E%3E%2BProd%3A%20%E4%BA%BA%E5%B7%A5%E7%A1%AE%E8%AE%A4%E5%8F%91%E5%B8%83%0A"})]),fallback:a(()=>s[2]||(s[2]=[t(" Loading... ")])),_:1})),s[7]||(s[7]=n(`<br><h2 id="ğŸ§²-å…­ã€è¿ç§»ç­–ç•¥ä¸æœ€ä½³å®è·µ" tabindex="-1">ğŸ§² å…­ã€è¿ç§»ç­–ç•¥ä¸æœ€ä½³å®è·µ <a class="header-anchor" href="#ğŸ§²-å…­ã€è¿ç§»ç­–ç•¥ä¸æœ€ä½³å®è·µ" aria-label="Permalink to &quot;ğŸ§² å…­ã€è¿ç§»ç­–ç•¥ä¸æœ€ä½³å®è·µ&quot;">â€‹</a></h2><h4 id="_1-å¤šä»“åº“è¿ç§»æµç¨‹" tabindex="-1">1. å¤šä»“åº“è¿ç§»æµç¨‹ <a class="header-anchor" href="#_1-å¤šä»“åº“è¿ç§»æµç¨‹" aria-label="Permalink to &quot;1. å¤šä»“åº“è¿ç§»æµç¨‹&quot;">â€‹</a></h4><ol><li>é¢„å¤„ç†å„ä»“åº“ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åœ¨æ¯ä¸ªä»“åº“å†…åˆ›å»ºå­ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> legacy-project</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mv</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> legacy-project/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;refactor: prepare for monorepo migration&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>åˆå¹¶å†å²è®°å½•ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åœ¨æ–°Monorepoä¸­æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> project1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@project1-url.git</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> project1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tags</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> project1/main</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --allow-unrelated-histories</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="3"><li>è·¯å¾„ä¿®æ­£ï¼š</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç§»åŠ¨æ–‡ä»¶åˆ°ç›®æ ‡ä½ç½®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> legacy-project/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apps/project1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2-ç»„ä»¶å…±äº«æ¨¡å¼" tabindex="-1">2. ç»„ä»¶å…±äº«æ¨¡å¼ <a class="header-anchor" href="#_2-ç»„ä»¶å…±äº«æ¨¡å¼" aria-label="Permalink to &quot;2. ç»„ä»¶å…±äº«æ¨¡å¼&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th>æ¨¡å¼</th><th>é€‚ç”¨åœºæ™¯</th><th>å®ç°æ–¹å¼</th></tr></thead><tbody><tr><td>æºç å¼•å…¥</td><td>åŸºç¡€UIç»„ä»¶</td><td><code>import { Button } from &#39;@acme/ui&#39;</code></td></tr><tr><td>æ¨¡å—è”é‚¦</td><td>é«˜é¢‘è¿­ä»£ä¸šåŠ¡ç»„ä»¶</td><td>Webpack 5 Module Federation</td></tr><tr><td>NPMç§æœ‰åŒ…</td><td>è·¨å›¢é˜Ÿå…±äº«</td><td>ç§æœ‰Registryå‘å¸ƒ</td></tr></tbody></table><h4 id="_3-æ€§èƒ½ä¼˜åŒ–æŠ€å·§" tabindex="-1">3. æ€§èƒ½ä¼˜åŒ–æŠ€å·§ <a class="header-anchor" href="#_3-æ€§èƒ½ä¼˜åŒ–æŠ€å·§" aria-label="Permalink to &quot;3. æ€§èƒ½ä¼˜åŒ–æŠ€å·§&quot;">â€‹</a></h4><ul><li>éƒ¨åˆ†æ£€å‡ºï¼ˆå·¨å‹ä»“åº“ï¼‰ï¼š</li></ul><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --filter=blob:none</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --sparse</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://monorepo.git</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sparse-checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cone</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sparse-checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apps/admin</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>æ„å»ºç¼“å­˜å¤ç”¨ï¼š</li></ul><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Turborepo è¿œç¨‹ç¼“å­˜</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> turbo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --remote-only</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>ä¾èµ–åˆ†æï¼ˆé¿å…é‡å¤æ‰“åŒ…ï¼‰ï¼š</li></ul><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dlx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> depcheck</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><br><h2 id="ğŸ’°-ä¸ƒã€æ”¶ç›Šä¸æŒ‘æˆ˜åˆ†æ" tabindex="-1">ğŸ’° ä¸ƒã€æ”¶ç›Šä¸æŒ‘æˆ˜åˆ†æ <a class="header-anchor" href="#ğŸ’°-ä¸ƒã€æ”¶ç›Šä¸æŒ‘æˆ˜åˆ†æ" aria-label="Permalink to &quot;ğŸ’° ä¸ƒã€æ”¶ç›Šä¸æŒ‘æˆ˜åˆ†æ&quot;">â€‹</a></h2><h4 id="_1-å®æ–½æ”¶ç›Š" tabindex="-1">1. å®æ–½æ”¶ç›Š <a class="header-anchor" href="#_1-å®æ–½æ”¶ç›Š" aria-label="Permalink to &quot;1. å®æ–½æ”¶ç›Š&quot;">â€‹</a></h4>`,21)),(i(),l(h,null,{default:a(()=>[p(e,{id:"mermaid-556",class:"mermaid",graph:"pie%0A%20%20%20%20title%20Monorepo%E6%A0%B8%E5%BF%83%E6%94%B6%E7%9B%8A%0A%20%20%20%20%22%E4%BB%A3%E7%A0%81%E5%A4%8D%E7%94%A8%E7%8E%87%E6%8F%90%E5%8D%8740%25%22%20%3A%2040%0A%20%20%20%20%22%E6%9E%84%E5%BB%BA%E6%97%B6%E9%97%B4%E5%87%8F%E5%B0%9170%25%22%20%3A%2030%0A%20%20%20%20%22%E6%96%B0%E6%88%90%E5%91%98%E4%B8%8A%E6%89%8B%E6%95%88%E7%8E%87%E6%8F%90%E5%8D%8760%25%22%20%3A%2020%0A%20%20%20%20%22%E7%BA%BF%E4%B8%8A%E6%95%85%E9%9A%9C%E7%8E%87%E4%B8%8B%E9%99%8D35%25%22%20%3A%2010%0A"})]),fallback:a(()=>s[3]||(s[3]=[t(" Loading... ")])),_:1})),s[8]||(s[8]=n('<h4 id="_2-æŒç»­æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ" tabindex="-1">2. æŒç»­æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ <a class="header-anchor" href="#_2-æŒç»­æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ" aria-label="Permalink to &quot;2. æŒç»­æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th>æŒ‘æˆ˜</th><th>è§£å†³æ–¹æ¡ˆ</th><th>å·¥å…·æ”¯æŒ</th></tr></thead><tbody><tr><td>ä»“åº“ä½“ç§¯è†¨èƒ€</td><td>Git Sparse</td><td>Checkout Git 2.25+</td></tr><tr><td>å¹½çµä¾èµ–</td><td>PNPMä¸¥æ ¼æ¨¡å¼</td><td>pnpm.strictPeerDependencies=true</td></tr><tr><td>æƒé™ç®¡æ§å¤æ‚</td><td>Codeownersæ–‡ä»¶+åˆ†æ”¯ä¿æŠ¤</td><td>GitLab/GitHubåŸç”Ÿæ”¯æŒ</td></tr><tr><td>æ„å»ºå†…å­˜æº¢å‡º</td><td>èµ„æºé™åˆ¶+å¢é‡æ„å»º</td><td>Turborepo + Nx Cloud</td></tr></tbody></table><blockquote><p>æœ€ä½³å®è·µæ€»ç»“ï¼šä»å¾—ç‰©150+åº”ç”¨å®è·µçœ‹ï¼ŒæˆåŠŸMonorepo=æƒé™æ§åˆ¶Ã—å·¥ç¨‹æ ‡å‡†åŒ–Ã—æ€§èƒ½ä¼˜åŒ–ï¼Œä¸‰è€…ç¼ºä¸€ä¸å¯</p></blockquote><h2 id="ğŸ”—-å…«ã€å‚è€ƒèµ„æ–™" tabindex="-1">ğŸ”— å…«ã€å‚è€ƒèµ„æ–™ <a class="header-anchor" href="#ğŸ”—-å…«ã€å‚è€ƒèµ„æ–™" aria-label="Permalink to &quot;ğŸ”— å…«ã€å‚è€ƒèµ„æ–™&quot;">â€‹</a></h2><p><a href="https://research.google/pubs/pub45424/" target="_blank" rel="noreferrer">ğŸ“š Google Monorepo å®è·µï¼ˆè¶…å¤§è§„æ¨¡ä»“åº“ç»éªŒï¼‰</a></p><p><a href="https://nx.dev/core-features/caching" target="_blank" rel="noreferrer">ğŸ“š Nx å®˜æ–¹æ–‡æ¡£ï¼ˆé«˜çº§ç¼“å­˜æœºåˆ¶ï¼‰</a></p><p><a href="https://turbo.build/repo/docs" target="_blank" rel="noreferrer">ğŸ“š Turborepo æ€§èƒ½ä¼˜åŒ–ï¼ˆåˆ†å¸ƒå¼æ„å»ºå®æˆ˜ï¼‰</a></p><blockquote><p>æœ¬æŒ‡å—åŸºäºå¾—ç‰©ã€å¾®ä¿¡ç­‰ä¼ä¸šå®æˆ˜ç»éªŒæ•´ç†ï¼Œé€‚ç”¨äº50+åº”ç”¨è§„æ¨¡çš„å‰ç«¯å·¥ç¨‹ä½“ç³»ï¼Œå®æ–½å‰å»ºè®®é€šè¿‡<code>dx audit</code>è¯„ä¼°è¿ç§»æˆæœ¬ã€‚</p></blockquote>',8))])}const C=r(o,[["render",c]]);export{y as __pageData,C as default};
